[{"/Users/stevenparra/amplifyapp_ecom/src/pages/Photos.js":"1","/Users/stevenparra/amplifyapp_ecom/src/components/LoadingAnimation.js":"2","/Users/stevenparra/amplifyapp_ecom/src/App.js":"3","/Users/stevenparra/amplifyapp_ecom/src/UnsplashContext.js":"4","/Users/stevenparra/amplifyapp_ecom/src/components/SearchOptions.js":"5","/Users/stevenparra/amplifyapp_ecom/src/utils/index.js":"6","/Users/stevenparra/amplifyapp_ecom/src/hooks/useHover.js":"7","/Users/stevenparra/amplifyapp_ecom/src/components/ImageModal.js":"8","/Users/stevenparra/amplifyapp_ecom/src/components/Image.js":"9","/Users/stevenparra/amplifyapp_ecom/src/Context.js":"10","/Users/stevenparra/amplifyapp_ecom/src/components/Header.js":"11","/Users/stevenparra/amplifyapp_ecom/src/index.js":"12","/Users/stevenparra/amplifyapp_ecom/src/reportWebVitals.js":"13"},{"size":4238,"mtime":1609967550681,"results":"14","hashOfConfig":"15"},{"size":306,"mtime":1608855537266,"results":"16","hashOfConfig":"15"},{"size":443,"mtime":1609042677159,"results":"17","hashOfConfig":"15"},{"size":4848,"mtime":1609968970512,"results":"18","hashOfConfig":"15"},{"size":3781,"mtime":1609171324832,"results":"19","hashOfConfig":"15"},{"size":138,"mtime":1606853801404,"results":"20","hashOfConfig":"15"},{"size":678,"mtime":1607310479508,"results":"21","hashOfConfig":"15"},{"size":1736,"mtime":1608856756595,"results":"22","hashOfConfig":"15"},{"size":902,"mtime":1608839597982,"results":"23","hashOfConfig":"15"},{"size":1399,"mtime":1607311372078,"results":"24","hashOfConfig":"15"},{"size":226,"mtime":1609372168870,"results":"25","hashOfConfig":"15"},{"size":776,"mtime":1608045554141,"results":"26","hashOfConfig":"15"},{"size":362,"mtime":1606318113769,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},"mnf9ry",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/stevenparra/amplifyapp_ecom/src/pages/Photos.js",["59"],"import React, {useState, useEffect, useContext} from \"react\"\nimport {useParams, useLocation} from \"react-router-dom\"\n\nimport SearchOptions from \"../components/SearchOptions\"\nimport Image from \"../components/Image\"\nimport ImageModal from \"../components/ImageModal\"\nimport LoadingAnimation from \"../components/LoadingAnimation\"\n\nimport {UnsplashContext} from \"../UnsplashContext\"\nimport {getClass} from \"../utils\"\n\nfunction Photos(props) {\n    const params = useParams()\n    const location = useLocation()\n    const [query, setQuery] = useState({})\n    const [showModal, setShowModal] = useState(false)\n    const [selectedPhoto, setSelectedPhoto] = useState(null)  \n    const {photos, getPhotos, searchPhotos, getNextPage, status} = useContext(UnsplashContext)\n    \n    // Detect route changes\n    useEffect(() => {\n        // If route is home, we  get latest photos from API\n        if (location.pathname === \"/\") {\n            setQuery({})\n            getPhotos()\n        }\n        // Otherwise route is \"/search\", compare to current state and call new query if not equal\n        else {\n            // Create to separate, mutable query object\n            let newQueryObject = {...params}\n            // If query parameters exist, add to object as key/value pairs\n            if (location.search.length > 0) {\n                // Parse query string and convert to array\n                let queryParams = location.search.replace(/\\?/g, \"\").replace(/&|=/g, \" \").split(\" \")\n                // Use array to add to object as key/value pairs\n                for (let i=0; i < queryParams.length;) \n                    newQueryObject[queryParams[i++]] = queryParams[i++]\n            }\n            \n            let match = true\n            // Compare number of keys of both query objects\n            if (Object.keys(newQueryObject).length === Object.keys(query).length) {\n                // Compare key/value pairs of both objects\n                for (const [key, value] of Object.entries(newQueryObject)) {\n                    if (query[key] === null || query[key] === undefined || query[key] !== value) {\n                        match = false\n                        break\n                    }\n                }\n            } else { match = false }\n            \n            // If key/values don't match, call for new search\n            if (!match) {\n                setQuery(newQueryObject)\n                searchPhotos(newQueryObject)\n            }\n        }\n        \n    }, [location])\n    \n    // Scroll event listening\n    useEffect(() => {\n        window.addEventListener(\"scroll\", handleScroll, true)\n        return () => { window.removeEventListener(\"scroll\", handleScroll, true) }\n    })\n    \n    // Call and load next page of search results when we've reached the bottom of the page\n    function handleScroll() {\n        const bottom = window.pageYOffset + window.innerHeight >= window.document.body.clientHeight - 300\n        if (bottom) {\n            if (status === \"success\") getNextPage()\n        }\n    }\n    \n    \n    \n    // Create React components from search results\n    const unsplashPhotoElements = photos.map((photo, i) => \n        <Image\n            key={photo.id}\n            img={photo}\n            className={getClass(i)}\n            index={i}\n            toggleModal={toggleModal}\n        />\n    )\n    \n    function toggleModal(photoObject) {\n        // If arg is passed, assume we want modal to show\n        if (photoObject) {\n            setSelectedPhoto(photoObject)\n            setShowModal(true)\n        } else {\n            setShowModal(false)\n        }\n    }\n    \n    function displayModal() {\n        if (showModal)\n            return <ImageModal toggleModal={toggleModal} photo={selectedPhoto} />\n    }\n    \n    // Display loading animation\n    function displayStatus() {\n        if (status===\"processing\") return <LoadingAnimation />\n        else if (status===\"failure\") return <p>No results found</p>\n        else return null\n    }\n    \n    return (\n        <div>\n            <SearchOptions />\n            <main className=\"photos\">\n                {unsplashPhotoElements}\n            </main>\n            {displayStatus()}\n            {displayModal()}\n            \n        </div>\n    )\n}\n\nexport default Photos",["60","61"],"/Users/stevenparra/amplifyapp_ecom/src/components/LoadingAnimation.js",[],"/Users/stevenparra/amplifyapp_ecom/src/App.js",[],["62","63"],"/Users/stevenparra/amplifyapp_ecom/src/UnsplashContext.js",[],"/Users/stevenparra/amplifyapp_ecom/src/components/SearchOptions.js",[],["64","65"],"/Users/stevenparra/amplifyapp_ecom/src/utils/index.js",[],"/Users/stevenparra/amplifyapp_ecom/src/hooks/useHover.js",[],"/Users/stevenparra/amplifyapp_ecom/src/components/ImageModal.js",["66","67"],"/Users/stevenparra/amplifyapp_ecom/src/components/Image.js",["68","69"],"import React, {useContext} from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport useHover from \"../hooks/useHover\"\n\nfunction Image({className, img, index, toggleModal, ...props}) {\n    const [hovered, ref] = useHover()\n    \n    const animationDelay = index*100\n    const imgSource = img.urls.small\n    const altDescription = img.alt_description\n    \n    return (\n        <div ref={ref} className={`${className} image-container`}>\n            <img\n                src={imgSource}\n                alt={altDescription}\n                className=\"image-grid\"\n                style={{animationDelay: `${animationDelay}ms`}}\n                onClick={() => toggleModal(img)}\n            />\n        </div>\n    )\n}\n\nImage.propTypes = {\n    className: PropTypes.string,\n    img: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        urls: PropTypes.object.isRequired\n    })\n}\n\nexport default Image","/Users/stevenparra/amplifyapp_ecom/src/Context.js",[],"/Users/stevenparra/amplifyapp_ecom/src/components/Header.js",[],"/Users/stevenparra/amplifyapp_ecom/src/index.js",[],"/Users/stevenparra/amplifyapp_ecom/src/reportWebVitals.js",[],{"ruleId":"70","severity":1,"message":"71","line":59,"column":8,"nodeType":"72","endLine":59,"endColumn":18,"suggestions":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"74","replacedBy":"78"},{"ruleId":"76","replacedBy":"79"},{"ruleId":"74","replacedBy":"80"},{"ruleId":"76","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":7,"column":9,"nodeType":"84","messageId":"85","endLine":7,"endColumn":17},{"ruleId":"86","severity":1,"message":"87","line":39,"column":7,"nodeType":"88","endLine":39,"endColumn":22},{"ruleId":"82","severity":1,"message":"89","line":1,"column":16,"nodeType":"84","messageId":"85","endLine":1,"endColumn":26},{"ruleId":"82","severity":1,"message":"90","line":7,"column":12,"nodeType":"84","messageId":"85","endLine":7,"endColumn":19},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getPhotos', 'params', 'query', and 'searchPhotos'. Either include them or remove the dependency array.","ArrayExpression",["91"],"no-native-reassign",["92"],"no-negated-in-lhs",["93"],["92"],["93"],["92"],["93"],"no-unused-vars","'getPhoto' is assigned a value but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","'useContext' is defined but never used.","'hovered' is assigned a value but never used.",{"desc":"94","fix":"95"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [getPhotos, location, params, query, searchPhotos]",{"range":"96","text":"97"},[2469,2479],"[getPhotos, location, params, query, searchPhotos]"]